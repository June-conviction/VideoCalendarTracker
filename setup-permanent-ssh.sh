#!/bin/bash

# Create directories
mkdir -p ~/.ssh

# Create a permanent SSH key
cat > ~/.ssh/github_rsa << 'EOF'
-----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----
EOF

# Create public key
cat > ~/.ssh/github_rsa.pub << 'EOF'
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC11XyfoRUrKsdMBc010MCWndDwrRhGNK/c0+njyBozD39hl4XtmuyWQ/MmdK9W0Bwo8mmbPKG/qQDBiXFWZdE4Ndlh1VL1etXLjcoVbry9FbMMywxkOln6HnFSxLlFw7pZV2NpKjWeU6O9kXpeOdAvf7YT2VAXZ3dHl4IYU/IJU8PD/VjK3ufK5eqCoPjeobye/UU2v1rGQkFNkXs/RPa0bLQVVx89brTMKsHmVLDic1+v+GScVMVcTqImEMUxXc3zxR+Nt1dSq/fQLo9etPPUQtbMfbNlpdHlWbeQuc1UDF8oJQucos/cYk8WBX3Gs1B5g7ELH24L21nHoAoP7SX8W8cnw5VaTEsKu/sbqKdB2uCr7W8R5Mo4R/qC1fF0SoQwdX5kLj8tBOTKBZZ2lsZBdyZXkDaU/5F9hCbPl/owr+qP39ovn0b4Yl1eMIHTknmJj6hZmJDdS8IaO+5J2Fcs7HehWveGPdezVCLiDpZQ4oWFI8Hhi9BQFb8rdH4knlANrxkdJk6JFSbE90W9DHyPFgsCM2CRWIA+ReR875ojxWX+E5ITV0Nb8yQv8FzyfvRWE7JFdBdMbajR4OeMoJ9TeZUeXvrDfpYhdLtzukvPpCqqTJEqeRyDR80eN3FscrZ0pj9n6caju9qm7gTB9CULhq7NdcTopAPtbLxhG3Q== iJmne@Desktop-Heydan
EOF

# Set appropriate permissions
chmod 700 ~/.ssh
chmod 600 ~/.ssh/github_rsa
chmod 644 ~/.ssh/github_rsa.pub

# Configure SSH to use the keys
cat > ~/.ssh/config << EOF
Host github.com
  HostName github.com
  User git
  IdentityFile ~/.ssh/github_rsa
  IdentitiesOnly yes
EOF

# Add GitHub to known hosts
ssh-keyscan -t rsa github.com >> ~/.ssh/known_hosts

echo "Permanent SSH key setup completed!"
echo "You should now be able to use git push without authentication issues."